{"version":3,"sources":["redux/authSlice.js","components/LoginForm.jsx","components/RegisterForm.jsx","pages/Login.jsx","components/Modal.jsx","utils/sleep.js","redux/postSlice.js","api.js","components/LeftSidebar.jsx","redux/followSlice.js","components/Huddle.jsx","components/RightSidebar.jsx","components/Layout.jsx","components/Post.jsx","pages/Profile.jsx","components/PrivateRoute.jsx","components/AddPost.jsx","hooks/useLazyFetch.js","pages/Home.jsx","components/Comment.jsx","pages/PostDetails.jsx","redux/messageSlice.js","components/Message.jsx","pages/Messages.jsx","pages/Conversation.jsx","App.js","redux/store.js","index.js"],"names":["loginUser","createAsyncThunk","userData","a","axios","post","data","registerUser","getProfile","id","get","getUsers","authSlice","createSlice","name","initialState","status","isLoggedIn","user","profile","userStatus","users","reducers","setAuth","state","action","payload","logout","localStorage","clear","defaults","headers","common","setUser","extraReducers","pending","fulfilled","response","token","email","_id","setItem","JSON","stringify","rejected","actions","LoginForm","useState","password","loginData","setLoginData","dispatch","useDispatch","history","useHistory","useSelector","auth","useEffect","push","onSubmit","e","preventDefault","TextField","onChange","prev","target","value","sx","width","margin","bgcolor","variant","label","type","required","Button","disabled","trimStart","length","padding","borderRadius","color","CircularProgress","size","onClick","RegisterForm","handle","registerData","setRegisterData","Login","isLoginForm","setIsLoginForm","theme","useTheme","Box","display","justifyContent","alignItems","height","shape","breakpoints","values","sm","textAlign","marginBottom","src","alt","Typography","Link","style","textDecoration","cursor","Modal","children","open","handleClose","handleSave","saveText","len","Dialog","onClose","fullWidth","maxWidth","DialogTitle","borderBottom","IconButton","DialogContent","DialogActions","fontSize","sleep","milliseconds","Promise","resolve","setTimeout","getPosts","pageno","getPostDetails","console","log","getComments","postSlice","posts","postDetails","commentStatus","comments","updateLike","index","findIndex","isLiked","curr_state_obj","res_obj","map","Object","assign","addPost","postData","alert","addComment","commentData","likeOrDislikePost","deletePost","delete","followAccount","follow","followingAccount","unfollowAccount","userId","unfollowingAccount","sendMessage","message","LeftSidebar","parse","getItem","React","openModal","setOpenModal","showAddImage","setShowImage","image","setImage","imageUrl","setUrl","handleModalOpen","postText","setPostText","handleAddPost","text","to","backgroundColor","List","ListItem","button","ListItemIcon","Hidden","lgDown","ListItemText","primaryTypographyProps","primary","Work","textTransform","lgUp","Grid","container","item","xs","flexGrow","TextareaAutosize","multiline","rows","disableUnderline","placeholder","outline","border","Input","files","FormData","append","fetch","method","body","then","resp","json","url","catch","err","maxHeight","getFollowings","getFollowers","followSlice","followingStatus","followings","followerStatus","followers","Connect","handleFollow","followerId","responseFollow","followingId","responseFlwing","paddingRight","fontWeight","mr","ml","background","RightSidebar","query","setQuery","queriedUsers","filter","toLowerCase","includes","paddingTop","position","inputProps","startAdornment","Search","paddingLeft","zIndex","overflowY","overflow","Headset","marginTop","slice","Layout","lg","borderLeft","borderRight","Post","commentText","setCommentText","anchorEl","setAnchorEl","Boolean","handleLike","handleAddComment","handleDeletePost","stopPropagation","window","confirm","author","flexWrap","formatDistanceToNow","Date","createdAt","undefined","currentTarget","Menu","MenuListProps","MenuItem","marginRight","Profile","useParams","handleUnfollow","hideFollow","isFollowVisible","follower","backgroundImageUrl","top","left","profileImageUrl","bio","htmlColor","location","marginLeft","href","website","format","marginX","palette","main","Edit","PrivateRoute","path","props","AddPost","paddingBottom","borderTop","useLazyFetch","fetchAction","page","setPage","loading","setLoading","loadMoreRef","useRef","handleObserver","useCallback","entries","isIntersecting","observer","IntersectionObserver","root","rootMargin","threshold","current","observe","fetchApi","r","error","Home","renderedPostList","useMemo","toString","ref","Comment","comment","PostDetails","likes","getMyMessages","getMessagesOf","relativeUserId","messageSlice","messages","messageDetails","Message","message_id","userdetails","last_senton","last_text","Messages","pusher","Pusher","cluster","encrypted","Conversation","subscribe","bind","message_input","setMessageInput","handleMessageSubmit","relativeUserinfo","find","Array","isArray","ListItemAvatar","Avatar","secondary","messageText","bottom","transform","endAdornment","App","login","exact","store","configureStore","reducer","createTheme","baseURL","process","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.a59c7d63.chunk.js","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst initialState = {\n  status: \"idle\",\n  isLoggedIn: false,\n  user: {},\n  profile: {},\n  userStatus: \"idle\",\n  users: [],\n};\n\nexport const loginUser = createAsyncThunk(\n  \"auth/loginUser\",\n  async (userData) => {\n    const { data } = await axios.post(\"/auth/login\", userData);\n    return data;\n  }\n);\n\nexport const registerUser = createAsyncThunk(\n  \"auth/registerUser\",\n  async (userData) => {\n    const { data } = await axios.post(\"/auth/register\", userData);\n    return data;\n  }\n);\n\nexport const getProfile = createAsyncThunk(\"auth/getProfile\", async (id) => {\n  const { data } = await axios.get(\"/api/profile/\" + id);\n  return data;\n});\n\nexport const getUsers = createAsyncThunk(\"auth/getUsers\", async () => {\n  const { data } = await axios.get(\"/auth/users/\");\n  return data;\n});\n\nexport const authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    setAuth: (state, action) => {\n      state.isLoggedIn = action.payload.isLoggedIn;\n    },\n    logout: (state, action) => {\n      localStorage.clear();\n      state.isLoggedIn = false;\n      axios.defaults.headers.common[\"authorization\"] = null;\n    },\n    setUser: (state, action) => {\n      state.user = action.payload;\n    },\n  },\n  extraReducers: {\n    [loginUser.pending]: (state, action) => {\n      state.status = \"loading\";\n    },\n    [loginUser.fulfilled]: (state, action) => {\n      const { token, name, email, _id } = action.payload.response;\n      localStorage.setItem(\n        \"login\",\n        JSON.stringify({ token, email, _id, name, isLoggedIn: true })\n      );\n      state.user.name = name;\n      state.user.email = email;\n      state.user._id = _id;\n      state.status = \"success\";\n      state.isLoggedIn = true;\n    },\n    [loginUser.rejected]: (state, action) => {\n      state.status = \"failed\";\n      state.isLoggedIn = false;\n    },\n\n    [registerUser.pending]: (state, action) => {\n      state.status = \"loading\";\n    },\n    [registerUser.fulfilled]: (state, action) => {\n      state.status = \"success\";\n      const { token, name, email } = action.payload.response;\n      localStorage.setItem(\n        \"login\",\n        JSON.stringify({ token, name, email, isLoggedIn: true })\n      );\n      state.user.name = name;\n      state.user.email = email;\n      state.isLoggedIn = true;\n    },\n    [registerUser.rejected]: (state, action) => {\n      state.status = \"failed\";\n      state.isLoggedIn = false;\n    },\n\n    [getProfile.pending]: (state, action) => {\n      state.status = \"loading\";\n    },\n    [getProfile.fulfilled]: (state, action) => {\n      state.status = \"success\";\n      state.profile = action.payload.profile;\n    },\n    [getProfile.rejected]: (state, action) => {\n      state.status = \"failed\";\n    },\n\n    [getUsers.pending]: (state, action) => {\n      state.userStatus = \"loading\";\n    },\n    [getUsers.fulfilled]: (state, action) => {\n      state.userStatus = \"success\";\n      state.users = action.payload.response.users;\n    },\n    [getUsers.rejected]: (state, action) => {\n      state.userStatus = \"failed\";\n    },\n  },\n});\n\nexport default authSlice.reducer;\nexport const { setAuth, logout } = authSlice.actions;\n","import { Button, CircularProgress, TextField } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { loginUser } from \"../redux/authSlice\";\n\nexport default function LoginForm() {\n  const [loginData, setLoginData] = useState({ email: \"\", password: \"\" });\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { status, isLoggedIn } = useSelector((state) => state.auth);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(loginUser(loginData));\n  };\n  const loginAsGuest = () => {\n    setLoginData({ email: \"tomato@mail.com\", password: \"tomato\" });\n    dispatch(loginUser({ email: \"tomato@mail.com\", password: \"tomato\" }));\n  };\n  useEffect(() => {\n    if (isLoggedIn) {\n      history.push(\"/\");\n    }\n  }, [isLoggedIn, history]);\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <TextField\n          onChange={(e) =>\n            setLoginData((prev) => ({\n              ...prev,\n              [e.target.name]: e.target.value,\n            }))\n          }\n          sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\n          variant=\"outlined\"\n          label=\"Enter Email\"\n          type=\"email\"\n          required\n          name=\"email\"\n        />\n        <TextField\n          sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\n          variant=\"outlined\"\n          label=\"Enter Password\"\n          type=\"password\"\n          required\n          onChange={(e) =>\n            setLoginData((prev) => ({\n              ...prev,\n              [e.target.name]: e.target.value,\n            }))\n          }\n          name=\"password\"\n        />\n        <Button\n          disabled={\n            loginData.email.trimStart().length === 0 ||\n            loginData.password.trimStart().length === 0\n          }\n          sx={{\n            width: \"100%\",\n            margin: \"1.5rem 0\",\n            padding: \"12px 0\",\n            borderRadius: \"28px\",\n          }}\n          variant=\"contained\"\n          color=\"primary\"\n          type=\"submit\"\n        >\n          {status === \"loading\" ? (\n            <CircularProgress size={24} sx={{ color: \"#FFF\" }} />\n          ) : (\n            \"Login\"\n          )}\n        </Button>\n      </form>\n      <Button\n        onClick={loginAsGuest}\n        sx={{\n          width: \"100%\",\n          margin: \".5rem 0 1rem 0.5rem\",\n          padding: \"12px 0\",\n          borderRadius: \"28px\",\n        }}\n        variant=\"outlined\"\n        color=\"primary\"\n      >\n        {status === \"loading\" ? \"Logging in...\" : \"Login as guest\"}\n      </Button>\n    </>\n  );\n}\n","import { Button, CircularProgress, TextField } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { registerUser } from \"../redux/authSlice\";\n\nexport default function RegisterForm() {\n  const [registerData, setRegisterData] = useState({\n    name: \"\",\n    handle: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { status, isLoggedIn } = useSelector((state) => state.auth);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(registerUser(registerData));\n  };\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      history.push(\"/\");\n    }\n  }, [isLoggedIn, history]);\n  return (\n    <form onSubmit={handleSubmit}>\n      <TextField\n        onChange={(e) =>\n          setRegisterData((prev) => ({\n            ...prev,\n            [e.target.name]: e.target.value,\n          }))\n        }\n        name=\"name\"\n        sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\n        variant=\"outlined\"\n        label=\"Enter full name\"\n        type=\"text\"\n        required\n      />\n      <TextField\n        name=\"handle\"\n        onChange={(e) =>\n          setRegisterData((prev) => ({\n            ...prev,\n            [e.target.name]: e.target.value,\n          }))\n        }\n        sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\n        variant=\"outlined\"\n        label=\"Choose an handle\"\n        type=\"text\"\n        required\n      />\n      <TextField\n        name=\"email\"\n        onChange={(e) =>\n          setRegisterData((prev) => ({\n            ...prev,\n            [e.target.name]: e.target.value,\n          }))\n        }\n        sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\n        variant=\"outlined\"\n        label=\"Enter Email\"\n        type=\"email\"\n        required\n      />\n      <TextField\n        name=\"password\"\n        onChange={(e) =>\n          setRegisterData((prev) => ({\n            ...prev,\n            [e.target.name]: e.target.value,\n          }))\n        }\n        sx={{ width: \"100%\", margin: \"1rem 0\", bgcolor: \"#fff\" }}\n        variant=\"outlined\"\n        label=\"Enter Password\"\n        type=\"password\"\n        required\n      />\n      <Button\n        disabled={\n          registerData.email.trimStart().length === 0 ||\n          registerData.password.trimStart().length === 0 ||\n          registerData.handle.trimStart().length === 0 ||\n          registerData.name.trimStart().length === 0\n        }\n        type=\"submit\"\n        sx={{\n          width: \"100%\",\n          margin: \"1.5rem 0\",\n          padding: \"12px 0\",\n          borderRadius: \"28px\",\n        }}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        {status === \"loading\" ? (\n          <CircularProgress size={24} sx={{ color: \"#FFF\" }} />\n        ) : (\n          \"Register\"\n        )}\n      </Button>\n    </form>\n  );\n}\n","import React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { useTheme } from \"@mui/material/styles\";\nimport LoginForm from \"../components/LoginForm\";\nimport RegisterForm from \"../components/RegisterForm\";\nimport Link from \"@mui/material/Link\";\nimport Typography from \"@mui/material/Typography\";\n\nexport default function Login() {\n  const [isLoginForm, setIsLoginForm] = useState(true);\n  const theme = useTheme();\n  return (\n    <Box\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      sx={{\n        width: \"100vw\",\n        height: \"100vh\",\n      }}\n    >\n      <Box\n        borderRadius={theme.shape.borderRadius}\n        sx={{\n          width: theme.breakpoints.values.sm,\n          bgcolor: \"#EFF3F4\",\n          padding: \" 3rem 2rem\",\n        }}\n      >\n        <Box textAlign=\"center\" marginBottom=\"1rem\">\n          <img src=\"/logo.png\" alt=\"Logo\" />\n        </Box>\n        {isLoginForm ? (\n          <Typography variant=\"h5\">Login to your account</Typography>\n        ) : (\n          <Typography variant=\"h5\">Create a new account</Typography>\n        )}\n        {isLoginForm ? <LoginForm /> : <RegisterForm />}\n        {isLoginForm ? (\n          <Box textAlign=\"center\" margin=\".5rem 0\">\n            Don't have an account?{\" \"}\n            <Link\n              style={{ textDecoration: \"none\", cursor: \"pointer\" }}\n              onClick={() => setIsLoginForm(false)}\n            >\n              Create one\n            </Link>\n          </Box>\n        ) : (\n          <Box textAlign=\"center\" margin=\".5rem 0\">\n            Already registered?{\" \"}\n            <Link\n              style={{ textDecoration: \"none\", cursor: \"pointer\" }}\n              onClick={() => setIsLoginForm(true)}\n            >\n              Sign in\n            </Link>\n          </Box>\n        )}\n      </Box>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport { IconButton } from \"@mui/material\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { Box, useTheme } from \"@mui/system\";\nexport default function Modal({\n  children,\n  open,\n  handleClose,\n  handleSave,\n  saveText,\n  len,\n}) {\n  const theme = useTheme();\n  const handleClick = () => {\n    handleSave();\n    handleClose();\n  };\n  return (\n    <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\">\n      <DialogTitle>\n        <Box textAlign=\"right\" borderBottom=\"1px solid #ccc\">\n          <IconButton onClick={handleClose}>\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </DialogTitle>\n      <DialogContent>{children}</DialogContent>\n      <DialogActions>\n        <Button\n          disabled={len === 0}\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"small\"\n          sx={{\n            borderRadius: theme.shape.borderRadius,\n            fontSize: \"12px\",\n          }}\n          onClick={handleClick}\n        >\n          {saveText}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","export function sleep (milliseconds) {\r\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\r\n  }","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { sleep } from \"../utils/sleep\";\r\n\r\nconst initialState = {\r\n  status: \"idle\",\r\n  posts: [],\r\n  postDetails: {},\r\n  commentStatus: \"idle\",\r\n  comments: [],\r\n};\r\n\r\nexport const getPosts = createAsyncThunk(\"post/getPosts\", async (pageno) => {\r\n  await sleep(3000)\r\n  const { data } = await axios.get(\"/api/posts/\"+pageno);\r\n  return data;\r\n});\r\n\r\nexport const getPostDetails = createAsyncThunk(\r\n  \"post/getPostDetails\",\r\n  async (id) => {\r\n    const { data } = await axios.get(\"/api/posts/post/\" + id);\r\n    console.log(data);\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const getComments = createAsyncThunk(\"post/getComments\", async (id) => {\r\n  const { data } = await axios.get(\"/api/comments/\" + id);\r\n  console.log(data);\r\n  return data;\r\n});\r\n\r\nexport const postSlice = createSlice({\r\n  name: \"post\",\r\n  initialState,\r\n  reducers: {\r\n    updateLike: (state, action) => {\r\n      const index = state.posts.findIndex(\r\n        (post) => post._id === action.payload.id\r\n      );\r\n      state.posts[index].isLiked = !state.posts[index].isLiked;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [getPosts.pending]: (state, action) => {\r\n      state.status = \"loading\";\r\n    },\r\n    [getPosts.fulfilled]: (state, action) => {\r\n      state.status = \"success\";\r\n\r\n      const curr_state_obj = {}\r\n      const res_obj = {}\r\n      state.posts.map(e => curr_state_obj[e._id] = e)\r\n      action.payload.response.posts.map(e => res_obj[e._id] = e)\r\n      state.posts = Object.values(Object.assign(curr_state_obj,res_obj)) ;\r\n    },\r\n    [getPosts.rejected]: (state, action) => {\r\n      state.status = \"failed\";\r\n    },\r\n\r\n    [getPostDetails.pending]: (state, action) => {\r\n      state.status = \"loading\";\r\n    },\r\n    [getPostDetails.fulfilled]: (state, action) => {\r\n      state.status = \"success\";\r\n      state.postDetails = action.payload.response.post;\r\n    },\r\n    [getPostDetails.rejected]: (state, action) => {\r\n      state.status = \"failed\";\r\n    },\r\n\r\n    [getComments.pending]: (state, action) => {\r\n      state.commentStatus = \"loading\";\r\n    },\r\n    [getComments.fulfilled]: (state, action) => {\r\n      state.commentStatus = \"success\";\r\n      state.comments = action.payload.response.comments;\r\n    },\r\n    [getComments.rejected]: (state, action) => {\r\n      state.commentStatus = \"failed\";\r\n    },\r\n  },\r\n});\r\n\r\nexport default postSlice.reducer;\r\nexport const { updateLike } = postSlice.actions;\r\n","import axios from \"axios\";\n\nexport const addPost = async (postData) => {\n  try {\n    const { data } = await axios.post(\"/api/posts\", postData);\n    return data;\n  } catch (error) {\n    alert(\"Something went wrong.\");\n  }\n};\n\nexport const addComment = async (commentData) => {\n  try {\n    const { data } = await axios.post(\n      \"/api/comments/\" + commentData.id,\n      commentData\n    );\n    return data;\n  } catch (error) {\n    alert(\"Something went wrong.\");\n  }\n};\n\nexport const likeOrDislikePost = async (postData) => {\n  try {\n    const { data } = await axios.post(\"/api/posts/likes\", postData);\n    return data;\n  } catch (error) {\n    alert(\"Something went wrong.\");\n  }\n};\n\nexport const deletePost = async (postData) => {\n  try {\n    const { data } = await axios.delete(`/api/posts/${postData.id}`);\n    return data;\n  } catch (error) {\n    alert(\"Something went wrong.\");\n  }\n};\n\nexport const followAccount = async (follow) => {\n  try {\n    const { data } = await axios.post(\"/api/followers\", follow);\n    return data;\n  } catch (error) {\n    alert(\"Something went wrong.\");\n  }\n};\n\nexport const followingAccount = async (follow) => {\n  try {\n    const { data } = await axios.post(\"/api/followings\", follow);\n    return data;\n  } catch (error) {\n    alert(\"Something went wrong.\");\n  }\n};\n\nexport const unfollowAccount = async (follow) => {\n  try {\n    const { data } = await axios.delete(\n      \"/api/followers/\" + follow.id + \"?userId=\" + follow.userId\n    );\n    return data;\n  } catch (error) {\n    alert(\"Something went wrong.\");\n  }\n};\n\nexport const unfollowingAccount = async (follow) => {\n  try {\n    const { data } = await axios.delete(\n      \"/api/followings?followingId=\" + follow.id + \"&userId=\" + follow.userId\n    );\n    return data;\n  } catch (error) {\n    alert(\"Something went wrong.\");\n  }\n};\n\n\nexport const sendMessage = async (message) => {\n  try {\n    const { data } = await axios.post(\"/api/message/send/\",message);\n    return data;\n  } catch (error) {\n    alert(\"Something went wrong.\");\n  }\n};\n\n","import * as React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport List from \"@mui/material/List\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport HomeIcon from \"@mui/icons-material/Home\";\r\nimport { TextareaAutosize } from \"@mui/material\";\r\nimport {\r\n  Button,\r\n  Grid,\r\n  Hidden,\r\n  IconButton,\r\n  Input,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport PersonOutlineIcon from \"@mui/icons-material/PersonOutline\";\r\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\r\nimport LogoutIcon from \"@mui/icons-material/Logout\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\nimport AddCircleOutlineIcon from \"@mui/icons-material/AddCircleOutline\";\r\nimport { logout } from \"../redux/authSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport Modal from \"./Modal\";\r\nimport { getPosts } from \"../redux/postSlice\";\r\nimport { addPost } from \"../api\";\r\nimport {Work} from \"@mui/icons-material\"\r\n\r\nexport default function LeftSidebar() {\r\n  const theme = useTheme();\r\n\r\n  const dispatch = useDispatch();\r\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\r\n\r\n  const [openModal, setOpenModal] = React.useState(false);\r\n  const [showAddImage, setShowImage] = React.useState(false);\r\n  const [image, setImage] = React.useState(\"\");\r\n  const [imageUrl, setUrl] = React.useState(\"\");\r\n  const handleModalClose = () => {\r\n    setOpenModal(false);\r\n    setImage(\"\")\r\n    setShowImage(false)\r\n  };\r\n\r\n  const handleModalOpen = () => {\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const [postText, setPostText] = React.useState(\"\");\r\n  const handleAddPost = async () => {\r\n    const data = await addPost({ text: postText , imageUrl});\r\n    if (data) {\r\n      dispatch(getPosts());\r\n      setPostText(\"\");\r\n    }\r\n  };\r\n\r\n  const uploadImage = () => {\r\n    const data = new FormData()\r\n    data.append(\"file\", image)\r\n    data.append(\"upload_preset\", \"upload\")\r\n    data.append(\"cloud_name\", \"dxotafsfa\")\r\n    fetch(\"  https://api.cloudinary.com/v1_1/dxotafsfa/image/upload\", {\r\n      method: \"post\",\r\n      body: data\r\n    })\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        console.log(data);\r\n        setUrl(data.url)\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ height: \"100vh\", maxWidth: \"100%\" }}>\r\n        <Box textAlign=\"center\">\r\n          <Link\r\n            to=\"/\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"inherit\",\r\n              backgroundColor: \"inherit\",\r\n            }}\r\n          >\r\n            <img src=\"/logo.png\" alt=\"logo\" width=\"70px\" />\r\n          </Link>\r\n        </Box>\r\n        <List>\r\n          <NavLink\r\n            to=\"/\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"inherit\",\r\n              backgroundColor: \"inherit\",\r\n            }}\r\n          >\r\n            <ListItem\r\n              button\r\n              sx={{\r\n                borderRadius: \"28px\",\r\n                margin: \".5rem 0\",\r\n              }}\r\n            >\r\n              <ListItemIcon>\r\n                <HomeIcon fontSize=\"medium\" style={{color:\"white\"}} />\r\n              </ListItemIcon>\r\n              <Hidden lgDown>\r\n                <ListItemText\r\n                  primaryTypographyProps={{\r\n                    fontSize: \"18px\",\r\n                    color: \"white\",\r\n                  }}\r\n                  primary=\"Home\"\r\n                />\r\n              </Hidden>\r\n            </ListItem>\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/messages\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"inherit\",\r\n              backgroundColor: \"inherit\",\r\n            }}\r\n          >\r\n\r\n            <ListItem\r\n              button\r\n              sx={{\r\n                borderRadius: \"28px\",\r\n                margin: \".5rem 0\",\r\n              }}\r\n            >\r\n              <ListItemIcon>\r\n                <ChatBubbleOutlineIcon fontSize=\"medium\" style={{color:\"white\"}} />\r\n              </ListItemIcon>\r\n              <Hidden lgDown>\r\n                <ListItemText\r\n                  primaryTypographyProps={{\r\n                    fontSize: \"18px\",\r\n                    color: \"white\",\r\n                  }}\r\n                  primary=\"Messages\"\r\n                />\r\n              </Hidden>\r\n            </ListItem>\r\n\r\n          </NavLink>\r\n          <ListItem\r\n            button\r\n            sx={{\r\n              borderRadius: \"28px\",\r\n              margin: \".5rem 0\",\r\n            }}\r\n          >\r\n            <ListItemIcon>\r\n              <Work fontSize=\"medium\" style={{color:\"white\"}} />\r\n            </ListItemIcon>\r\n            <Hidden lgDown>\r\n              <ListItemText\r\n                primaryTypographyProps={{\r\n                  fontSize: \"18px\",\r\n                  color: \"white\",\r\n                }}\r\n                primary=\"Jobs\"\r\n              />\r\n            </Hidden>\r\n          </ListItem>\r\n          <NavLink\r\n            to={`/profile/${_id}`}\r\n            style={{\r\n              textDecoration: \"none\",\r\n              color: \"inherit\",\r\n              backgroundColor: \"inherit\",\r\n            }}\r\n          >\r\n            <ListItem\r\n              button\r\n              sx={{\r\n                borderRadius: \"28px\",\r\n                margin: \".5rem 0\",\r\n              }}\r\n            >\r\n              <ListItemIcon>\r\n                <PersonOutlineIcon fontSize=\"medium\" style={{color:\"white\"}} />\r\n              </ListItemIcon>\r\n              <Hidden lgDown>\r\n                <ListItemText\r\n                  primaryTypographyProps={{\r\n                    fontSize: \"18px\",\r\n                    color: \"white\",\r\n                  }}\r\n                  primary=\"Profile\"\r\n                />\r\n              </Hidden>\r\n            </ListItem>\r\n          </NavLink>\r\n          <ListItem\r\n            id=\"basic-button\"\r\n            button\r\n            sx={{\r\n              borderRadius: \"28px\",\r\n              margin: \".5rem 0\",\r\n            }}\r\n            onClick={() => {\r\n              dispatch(logout());\r\n            }}\r\n          >\r\n            <ListItemIcon>\r\n              <LogoutIcon fontSize=\"medium\" style={{color:\"white\"}} />\r\n            </ListItemIcon>\r\n            <Hidden lgDown>\r\n              <ListItemText\r\n                primaryTypographyProps={{\r\n                  fontSize: \"18px\",\r\n                  color: \"white\",\r\n                }}\r\n                primary=\"Logout\"\r\n              />\r\n            </Hidden>\r\n          </ListItem>\r\n        </List>\r\n        <Hidden lgDown>\r\n          <Button\r\n            onClick={handleModalOpen}\r\n            variant=\"contained\"\r\n            color=\"success\"\r\n            style={{\r\n              borderRadius: \"8px\",\r\n              textTransform: \"capitalize\",\r\n              width:\"90%\"\r\n            }}\r\n          >\r\n            Post\r\n          </Button>\r\n        </Hidden>\r\n        <Hidden lgUp>\r\n          <IconButton\r\n            onClick={handleModalOpen}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            style={{\r\n              borderRadius: \"28px\",\r\n              padding: \"0 15px\",\r\n              textTransform: \"capitalize\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            <AddCircleOutlineIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n      </Box>\r\n      {openModal && (\r\n        <Modal\r\n          open={openModal}\r\n          handleClose={handleModalClose}\r\n          saveText={\"Post\"}\r\n          len={postText.trimStart().length}\r\n          handleSave={handleAddPost}\r\n        >\r\n          <Box>\r\n            <Grid container>\r\n              {/* <Grid item>\r\n                <img src=\"/logo.png\" alt=\"logo\" width=\"60px\" />\r\n              </Grid> */}\r\n              <Grid item xs={12} flexGrow=\"1\">\r\n                <Box padding=\".5rem 0\">\r\n                  <TextareaAutosize\r\n                    value={postText}\r\n                    onChange={(e) => setPostText(e.target.value)}\r\n                    multiline\r\n                    rows=\"2\"\r\n                    disableUnderline\r\n                    type=\"text\"\r\n                    placeholder=\"What is your post about....\"\r\n                    style={{ width: \"100%\",height:'20vh',outline: 'none' ,border:'none'}}\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n              {(imageUrl === \"\")?\r\n                (<Grid item xs={12}>\r\n                  {!showAddImage && <Button onClick={() => setShowImage(true)}>+ Add Image</Button>}\r\n                  {showAddImage && <> <Input type=\"file\" onChange={(e) => setImage(e.target.files[0])} /><Button onClick={uploadImage}>Upload</Button> </>}\r\n                </Grid>)\r\n                :\r\n                (<Grid item xs={12}> <img style={{maxHeight:\"100%\",maxWidth:\"100%\"}} src={imageUrl} alt=\"ss\" /> </Grid>)\r\n              }\r\n              \r\n\r\n\r\n\r\n            </Grid>\r\n          </Box>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst initialState = {\n  followingStatus: \"idle\",\n  followings: [],\n  followerStatus: \"idle\",\n  followers: [],\n};\n\nexport const getFollowings = createAsyncThunk(\n  \"follow/getFollowings\",\n  async (id) => {\n    const { data } = await axios.get(\"/api/followings/\" + id);\n    return data;\n  }\n);\n\nexport const getFollowers = createAsyncThunk(\n  \"follow/getFollowers\",\n  async (id) => {\n    const { data } = await axios.get(\"/api/followers/\" + id);\n    return data;\n  }\n);\n\nexport const followSlice = createSlice({\n  name: \"follow\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [getFollowings.pending]: (state, action) => {\n      state.followingStatus = \"loading\";\n    },\n    [getFollowings.fulfilled]: (state, action) => {\n      state.followingStatus = \"success\";\n      state.followings = action.payload.response.followings;\n    },\n    [getFollowings.rejected]: (state, action) => {\n      state.followingStatus = \"failed\";\n    },\n\n    [getFollowers.pending]: (state, action) => {\n      state.followerStatus = \"loading\";\n    },\n    [getFollowers.fulfilled]: (state, action) => {\n      state.followerStatus = \"success\";\n      state.followers = action.payload.response.followers;\n    },\n    [getFollowers.rejected]: (state, action) => {\n      state.followerStatus = \"failed\";\n    },\n  },\n});\n\nexport default followSlice.reducer;\n// export const {  } = followSlice.actions;\n","import { Typography, useTheme } from \"@mui/material\";\nimport { Button, Grid } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { followAccount, followingAccount } from \"../api\";\nimport { getFollowers, getFollowings } from \"../redux/followSlice\";\n\nexport default function Connect({ user }) {\n  const theme = useTheme();\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\n  const dispatch = useDispatch();\n\n  const handleFollow = async () => {\n    const responseFollow = await followAccount({\n      userId: user._id,\n      followerId: _id,\n    });\n    const responseFlwing = await followingAccount({\n      followingId: user._id,\n      userId: _id,\n    });\n    if (responseFollow) {\n      dispatch(getFollowers(_id));\n    }\n    if (responseFlwing) {\n      dispatch(getFollowings(_id));\n    }\n  };\n  return (\n    <Box margin=\"1rem 0\">\n      <Grid container alignItems=\"center\" justifyContent=\"space-between\">\n        <Grid item>\n          <Grid container>\n            <Link to={`/profile/${user._id}`}>\n              <Grid item sx={{ paddingRight: \"12px\" }}>\n                <img src=\"/logo.png\" width=\"50px\" alt=\"logo\" />\n              </Grid>\n            </Link>\n            <Grid item>\n              <Grid container alignItems=\"center\">\n                <Grid item>\n                  <Typography sx={{ fontSize: \"16px\", fontWeight: \"500\" }}>\n                    {user.name}\n                  </Typography>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <Typography\n                      sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}\n                    >\n                      {user.handle}\n                    </Typography>\n                    {/* <Typography\n                      sx={{\n                        fontSize: \"12px\",\n                        background: \"#ccc\",\n                        borderRadius: theme.shape.borderRadius,\n                        padding: \"0 6px\",\n                        color: \"#777\",\n                      }}\n                    >\n                      follows you\n                    </Typography> */}\n                  </Box>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <Button\n            onClick={handleFollow}\n            size=\"small\"\n            sx={{\n              borderRadius: theme.shape.borderRadius,\n              textTransform: \"capitalize\",\n              ml: \"12px\",\n              background: \"black\",\n              \"&:hover\": {\n                background: \"#333\",\n              },\n            }}\n            variant=\"contained\"\n          >\n            Follow\n          </Button>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n","import { Search } from \"@mui/icons-material\";\nimport { Input, Typography, Grid, CircularProgress } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport WhoToFollow from \"./Huddle\";\nimport { Headset } from \"@mui/icons-material\";\nimport { Link } from \"react-router-dom\";\nimport { getFollowings } from \"../redux/followSlice\";\n\nexport default function RightSidebar() {\n  const [query, setQuery] = React.useState(\"\");\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\n  const dispatch = useDispatch();\n  const { users, userStatus } = useSelector((state) => state.auth);\n  const { followingStatus, followings } = useSelector((state) => state.follow);\n  function queriedUsers() {\n    return users.filter(\n      (user) =>\n        user.name.toLowerCase().includes(query.toLowerCase()) ||\n        user.handle.toLowerCase().includes(query.toLowerCase())\n    );\n  }\n\n  useEffect(() => {\n    dispatch(getFollowings(_id));\n  }, [dispatch, _id]);\n\n  function showToFollow() {\n    const filtered = users.filter((user) => user._id !== _id);\n\n    return filtered.filter((item) => {\n      const index = followings.findIndex(\n        (follow) => follow.followingId === item._id\n      );\n      if (index !== -1) {\n        return false;\n      }\n      return true;\n    });\n  }\n\n  return (\n    <Box sx={{ height: \"100%\" }}>\n      <Box paddingTop=\"10px\">\n        <Box\n          width=\"100%\"\n          borderRadius=\"28px\"\n          border=\"1px solid #eee\"\n          position=\"relative\"\n          sx={{\n            background: \"#eee\",\n          }}\n        >\n          <Input\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            type=\"text\"\n            inputProps={{\n              style: { padding: \"10px\" },\n            }}\n            disableUnderline\n            fullWidth\n            placeholder=\"Search\"\n            startAdornment={\n              <Search\n                sx={{\n                  paddingLeft: \"20px\",\n                  color: \"#777\",\n                }}\n              />\n            }\n          />\n          {query.length !== 0 && (\n            <Box\n              width=\"100%\"\n              sx={{\n                backgroundColor: \"white\",\n                border: \"1px solid #eee\",\n                borderRadius: \"28px\",\n                padding: \"1rem 0\",\n                zIndex: \"999\",\n                maxHeight: \"50vh\",\n                overflowY: \"scroll\",\n              }}\n              position=\"absolute\"\n            >\n              {query.length !== 0 && queriedUsers().length === 0 && (\n                <Typography sx={{ padding: \"0 1rem\" }}>\n                  No users found!\n                </Typography>\n              )}\n              {queriedUsers().map((user) => (\n                <Box key={user._id}>\n                  <Link\n                    onClick={() => setQuery(\"\")}\n                    style={{ textDecoration: \"none\" }}\n                    to={`/profile/${user._id}`}\n                  >\n                    <Grid\n                      sx={{\n                        overflow: \"hidden\",\n                        padding: \".2rem 1rem\",\n                        \"&:hover\": {\n                          backgroundColor: \"#eee\",\n                        },\n                      }}\n                      container\n                      alignItems=\"center\"\n                    >\n                      <Grid item sx={{ paddingRight: \"12px\" }}>\n                        <img src=\"/logo.png\" width=\"50px\" alt=\"logo\" />\n                      </Grid>\n                      <Grid item>\n                        <Grid container alignItems=\"center\">\n                          <Grid item>\n                            <Typography\n                              sx={{\n                                fontSize: \"16px\",\n                                fontWeight: \"500\",\n                                color: \"#000\",\n                              }}\n                            >\n                              {user.name}\n                            </Typography>\n                            <Box display=\"flex\" alignItems=\"center\">\n                              <Typography\n                                sx={{\n                                  fontSize: \"14px\",\n                                  mr: \"6px\",\n                                  color: \"#555\",\n                                }}\n                              >\n                                {user.handle}\n                              </Typography>\n                            </Box>\n                          </Grid>\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  </Link>\n                </Box>\n              ))}\n            </Box>\n          )}\n        </Box>\n        <Box\n          sx={{\n            background: \"#eee\",\n            borderRadius: \"28px\",\n            padding: \"10px 20px\",\n            margin: \"1rem 0\",\n          }}\n        >\n          <Typography variant=\"h6\" sx={{ fontWeight: \"bold\" }}>\n            Huddle <Headset/>\n          </Typography>\n          <Box textAlign=\"center\" marginTop=\"1rem\">\n            {(userStatus === \"loading\" || followingStatus === \"loading\") && (\n              <CircularProgress size={20} color=\"primary\" />\n            )}\n          </Box>\n          {userStatus === \"success\" &&\n            showToFollow()\n              .slice(0, 7)\n              .map((item) => <WhoToFollow key={item._id} user={item} />)}\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport LeftSidebar from \"./LeftSidebar\";\nimport RightSidebar from \"./RightSidebar\";\nimport Box from \"@mui/material/Box\";\nimport { Grid, Hidden } from \"@mui/material\";\nimport { useTheme } from \"@mui/system\";\nimport { getUsers } from \"../redux/authSlice\";\nimport { useDispatch } from \"react-redux\";\n\nexport default function Layout({ children }) {\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getUsers());\n  }, [dispatch]);\n  return (\n    <Box\n      sx={{\n        maxWidth: theme.breakpoints.values.lg,\n        margin: \"0 auto\",\n      }}\n    >\n      <Grid container>\n        <Grid item xs={1} lg={2}>\n          <LeftSidebar />\n        </Grid>\n        <Grid item xs={11} lg={10} >\n          <Grid container>\n            <Grid item xs={12} lg={8} style={{backgroundColor:'white'}}>\n              <Box\n                sx={{\n                  height: \"100vh\",\n                  margin: \"0 1rem\",\n                  borderLeft: \"1px solid #ccc\",\n                  borderRight: \"1px solid #ccc\",\n                }}\n              >\n                {children}\n              </Box>\n            </Grid>\n            <Hidden lgDown>\n              <Grid item lg={4} sx={{ height: \"100vh\" }}>\n                <RightSidebar />\n              </Grid>\n            </Hidden>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n","import {\r\n  Grid,\r\n  IconButton,\r\n  Input,\r\n  Typography,\r\n  Menu,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\r\nimport React, { useState } from \"react\";\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\r\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\r\nimport SyncIcon from \"@mui/icons-material/Sync\";\r\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\r\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\r\nimport IosShareIcon from \"@mui/icons-material/IosShare\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { addComment, deletePost, likeOrDislikePost } from \"../api\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getPosts, updateLike } from \"../redux/postSlice\";\r\nimport Modal from \"./Modal\";\r\nimport { getProfile } from \"../redux/authSlice\";\r\n\r\nexport default function Post({ post, profile }) {\r\n  const dispatch = useDispatch();\r\n  const [commentText, setCommentText] = useState(\"\");\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\r\n  const handleLike = async (e) => {\r\n    e.preventDefault();\r\n    dispatch(updateLike({ id: post._id }));\r\n    const response = await likeOrDislikePost({ id: post._id });\r\n    if (response.message !== \"Post updated successfully.\") {\r\n      dispatch(updateLike({ id: post._id }));\r\n    }\r\n  };\r\n  const handleAddComment = async () => {\r\n    const response = await addComment({ id: post._id, text: commentText });\r\n    if (response) {\r\n      setCommentText(\"\");\r\n    }\r\n  };\r\n\r\n  const handleDeletePost = async (e) => {\r\n    e.stopPropagation();\r\n    const confirmation = window.confirm(\"Are you sure to delete this post?\");\r\n    if (!confirmation) return;\r\n    const response = await deletePost({ id: post._id });\r\n    if (response) {\r\n      if (profile) {\r\n        dispatch(getProfile(post.author._id));\r\n      } else {\r\n        dispatch(getPosts());\r\n      }\r\n    }\r\n  };\r\n\r\n  const [openModal, setOpenModal] = React.useState(false);\r\n  const handleModalClose = () => {\r\n    setOpenModal(false);\r\n  };\r\n\r\n  const handleModalOpen = () => {\r\n    setOpenModal(true);\r\n  };\r\n  return (\r\n    <>\r\n      <Link\r\n        to={`/posts/${post._id}`}\r\n        style={{ textDecoration: \"none\", color: \"inherit\" }}\r\n      >\r\n        <Box\r\n          padding=\"1rem\"\r\n          sx={{\r\n            \"&:hover\": {\r\n              backgroundColor: \"#eee\",\r\n            },\r\n          }}\r\n        >\r\n           <img src={post.imageUrl} alt=\"ff\" style={{maxHeight:\"100%\",maxWidth:\"100%\"}} />\r\n          <Grid container flexWrap=\"nowrap\">\r\n            <Grid item sx={{ paddingRight: \"1rem\" }}>\r\n              <Link to={`/profile/${post.author._id}`}>\r\n                <img src=\"/logo.png\" alt=\"lgoog\" width=\"50px\" />\r\n              </Link>\r\n            </Grid>\r\n            <Grid item flexGrow=\"1\">\r\n              <Box>\r\n                <Grid\r\n                  container\r\n                  justifyContent=\"space-between\"\r\n                  alignItems=\"center\"\r\n                  flexWrap=\"nowrap\"\r\n                >\r\n                  <Grid item>\r\n                    <Box display=\"flex\">\r\n                      <Typography\r\n                        sx={{ fontSize: \"16px\", fontWeight: 500, mr: \"6px\" }}\r\n                      >\r\n                        {post.author.name}\r\n                      </Typography>\r\n                      <Typography\r\n                        sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\r\n                      >\r\n                        @{post.author.handle}\r\n                      </Typography>\r\n                      <Typography\r\n                        sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\r\n                      >\r\n                        .\r\n                      </Typography>\r\n                      <Typography\r\n                        sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\r\n                      >\r\n                        {formatDistanceToNow(new Date(post.createdAt))}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box>\r\n                      <Typography sx={{ fontSize: \"15px\", color: \"#555\" }}>\r\n                        {post.text}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    {post.author._id === _id && (\r\n                      <IconButton\r\n                        aria-expanded={open ? \"true\" : undefined}\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          handleClick(e);\r\n                        }}\r\n                      >\r\n                        <MoreHorizIcon />\r\n                      </IconButton>\r\n                    )}\r\n                    <Menu\r\n                      id=\"basic-menu\"\r\n                      anchorEl={anchorEl}\r\n                      open={open}\r\n                      onClose={handleClose}\r\n                      onClick={(e) => e.stopPropagation()}\r\n                      MenuListProps={{\r\n                        \"aria-labelledby\": \"basic-button\",\r\n                      }}\r\n                    >\r\n                      <MenuItem onClick={(e) => handleDeletePost(e)}>\r\n                        Delete Post\r\n                      </MenuItem>\r\n                    </Menu>\r\n                  </Grid>\r\n                </Grid>\r\n                <Box\r\n                  display=\"flex\"\r\n                  justifyContent=\"space-between\"\r\n                  marginRight=\"5rem\"\r\n                  marginTop=\".8rem\"\r\n                >\r\n                  <IconButton\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      handleModalOpen();\r\n                    }}\r\n                    size=\"small\"\r\n                  >\r\n                    <ChatBubbleOutlineIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                  <IconButton size=\"small\">\r\n                    <SyncIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                  <IconButton onClick={handleLike} size=\"small\">\r\n                    {post.isLiked ? (\r\n                      <FavoriteIcon fontSize=\"small\" />\r\n                    ) : (\r\n                      <FavoriteBorderIcon fontSize=\"small\" />\r\n                    )}\r\n                  </IconButton>\r\n                  <IconButton size=\"small\">\r\n                    <IosShareIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Box>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Link>\r\n      {openModal && (\r\n        <Modal\r\n          open={openModal}\r\n          handleClose={handleModalClose}\r\n          saveText={\"Comment\"}\r\n          len={commentText.trimStart().length}\r\n          handleSave={handleAddComment}\r\n        >\r\n          <Box>\r\n            <Grid container>\r\n              <Grid item>\r\n                <img src=\"/logo.png\" alt=\"logo\" width=\"60px\" />\r\n              </Grid>\r\n              <Grid item flexGrow=\"1\">\r\n                <Box padding=\".5rem 0\">\r\n                  <Input\r\n                    onChange={(e) => setCommentText(e.target.value)}\r\n                    value={commentText}\r\n                    multiline\r\n                    rows=\"2\"\r\n                    disableUnderline\r\n                    type=\"text\"\r\n                    placeholder=\"Post your comment\"\r\n                    sx={{ width: \"100%\" }}\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\nimport { Box } from \"@mui/system\";\nimport {\n  Button,\n  CircularProgress,\n  Grid,\n  IconButton,\n  Link,\n  Typography,\n  TextField,\n  TextareaAutosize,\n  useTheme,\n} from \"@mui/material\";\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\nimport MailOutlineIcon from \"@mui/icons-material/MailOutline\";\nimport { Edit } from \"@mui/icons-material\";\nimport LocationOnIcon from \"@mui/icons-material/LocationOn\";\nimport InsertLinkIcon from \"@mui/icons-material/InsertLink\";\nimport DateRangeIcon from \"@mui/icons-material/DateRange\";\nimport Post from \"../components/Post\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport { getProfile } from \"../redux/authSlice\";\nimport { Link as RouteLink } from \"react-router-dom\";\nimport { getFollowers, getFollowings } from \"../redux/followSlice\";\nimport Modal from \"../components/Modal\";\nimport {\n  followAccount,\n  followingAccount,\n  unfollowAccount,\n  unfollowingAccount,\n} from \"../api\";\nimport format from \"date-fns/format\";\n\nexport default function Profile() {\n  const theme = useTheme();\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const { profile, status } = useSelector((state) => state.auth);\n  const [openModal, setOpenModal] = React.useState(false);\n  const { followingStatus, followerStatus, followers, followings } =\n    useSelector((state) => state.follow);\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\n\n  useEffect(() => {\n    dispatch(getProfile(id));\n  }, [dispatch, id]);\n\n  useEffect(() => {\n    if (profile.userId) {\n      dispatch(getFollowers(profile.userId._id));\n      dispatch(getFollowings(profile.userId._id));\n    }\n  }, [dispatch, profile.userId]);\n\n  const handleFollow = async () => {\n    const responseFollow = await followAccount({\n      userId: profile.userId._id,\n      followerId: _id,\n    });\n    const responseFlwing = await followingAccount({\n      followingId: profile.userId._id,\n      userId: _id,\n    });\n    if (responseFollow) {\n      dispatch(getFollowers(id));\n    }\n    if (responseFlwing) {\n      dispatch(getFollowings(id));\n    }\n  };\n\n  const handleUnfollow = async () => {\n    const responseFollow = await unfollowAccount({\n      id: _id,\n      userId: profile.userId._id,\n    });\n    const responseFlwing = await unfollowingAccount({\n      id: profile.userId._id,\n      userId: _id,\n    });\n    if (responseFollow) {\n      dispatch(getFollowers(id));\n    }\n    if (responseFlwing) {\n      dispatch(getFollowings(id));\n    }\n  };\n\n  const handleModalClose = () => {\n    setOpenModal(false);\n    // setImage(\"\")\n    // setShowImage(false)\n  };\n\n  function hideFollow() {\n    if (profile.userId) {\n      return _id === profile.userId._id;\n    }\n  }\n\n  function isFollowVisible() {\n    if (followers) {\n      const index = followers.findIndex(\n        (follower) => follower.followerId === _id\n      );\n      if (index === -1) return true;\n      return false;\n    }\n  }\n\n  return (\n    <Box>\n      <Box borderBottom=\"1px solid #ccc\" padding=\"8px 20px\">\n        <Grid container alignItems=\"center\">\n          <Grid item sx={{ mr: \"10px\" }}>\n            <RouteLink to=\"/\">\n              <IconButton>\n                <ArrowBackIcon />\n              </IconButton>\n            </RouteLink>\n          </Grid>\n\n          {status === \"success\" && (\n            <Grid item>\n              <Typography variant=\"h6\">\n                {profile.userId && profile.userId && profile.userId.name}\n              </Typography>\n              <Typography sx={{ fontSize: \"12px\", color: \"#555\" }}>\n                {profile.posts && profile.posts.length} posts\n              </Typography>{\" \"}\n            </Grid>\n          )}\n        </Grid>\n      </Box>\n      <Box textAlign=\"center\">\n        {status === \"loading\" && (\n          <Box marginTop=\"1rem\">\n            <CircularProgress size={20} color=\"primary\" />\n          </Box>\n        )}\n      </Box>\n      {status === \"success\" && (\n        <Box height=\"90vh\" sx={{ overflowY: \"scroll\" }}>\n          <Box position=\"relative\">\n            <img\n              width=\"100%\"\n              src={profile.backgroundImageUrl}\n              alt=\"background\"\n            />\n            <Box\n              sx={{\n                position: \"absolute\",\n                top: 120,\n                left: 15,\n                background: \"#eee\",\n                borderRadius: \"50%\",\n              }}\n            >\n              <img width=\"150px\" src={profile.profileImageUrl} alt=\"profile\" />\n            </Box>\n          </Box>\n          <Box textAlign=\"right\" padding=\"10px 20px\">\n            <IconButton onClick={() => {setOpenModal(true)}}>\n              <MoreHorizIcon />\n            </IconButton>\n            <IconButton>\n              <MailOutlineIcon />\n            </IconButton>\n            {!hideFollow() && isFollowVisible() && (\n              <Button\n                onClick={handleFollow}\n                size=\"small\"\n                sx={{\n                  borderRadius: theme.shape.borderRadius,\n                  textTransform: \"capitalize\",\n                  padding: \"6px 20px\",\n                  background: \"black\",\n                  \"&:hover\": {\n                    background: \"#333\",\n                  },\n                }}\n                variant=\"contained\"\n              >\n                Follow\n              </Button>\n            )}\n\n            {!hideFollow() && !isFollowVisible() && (\n              <Button\n                onClick={handleUnfollow}\n                size=\"small\"\n                sx={{\n                  borderRadius: theme.shape.borderRadius,\n                  textTransform: \"capitalize\",\n                  padding: \"6px 20px\",\n                  background: \"black\",\n                  \"&:hover\": {\n                    background: \"#333\",\n                  },\n                }}\n                variant=\"contained\"\n              >\n                Unfollow\n              </Button>\n            )}\n          </Box>\n          <Box padding=\"10px 20px\">\n            <Typography variant=\"h6\" sx={{ fontWeight: \"500\" }}>\n              {profile.userId && profile.userId.name}\n            </Typography>\n            <Typography sx={{ fontSize: \"14px\", color: \"#555\" }}>\n              @{profile.userId && profile.userId.handle}\n            </Typography>\n            <Typography fontSize=\"16px\" color=\"#333\" padding=\"10px 0\">\n              {profile.bio}\n            </Typography>\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              padding=\"6px 0\"\n              flexWrap=\"wrap\"\n            >\n              <Box display=\"flex\">\n                <LocationOnIcon htmlColor=\"#555\" />\n                <Typography sx={{ ml: \"6px\", color: \"#555\" }}>\n                  {profile.location}\n                </Typography>\n              </Box>\n              <Box display=\"flex\" marginLeft=\"1rem\">\n                <InsertLinkIcon htmlColor=\"#555\" />\n                <Link\n                  sx={{ textDecoration: \"none\", marginLeft: \"6px\" }}\n                  href={profile.website || \"https:/wasifbaliyan.com\"}\n                >\n                  {profile.website ? profile.website : \"www\"}\n                </Link>\n              </Box>\n              <Box display=\"flex\" marginLeft=\"1rem\">\n                <DateRangeIcon htmlColor=\"#555\" />\n                <Typography sx={{ ml: \"6px\", color: \"#555\" }}>\n                  {profile.userId &&\n                    profile.userId &&\n                    profile.userId.createdAt &&\n                    format(new Date(profile.userId.createdAt), \"MMM dd yyyy\")}\n                </Typography>\n              </Box>\n            </Box>\n            <Box display=\"flex\">\n              <Typography color=\"#555\" marginRight=\"1rem\">\n                <strong style={{ color: \"black\" }}>\n                  {followingStatus === \"success\" && followings.length}\n                </strong>\n                Following\n              </Typography>\n              <Typography color=\"#555\" marginRight=\"1rem\">\n                <strong style={{ color: \"black\" }}>\n                  {followerStatus === \"success\" && followers.length}\n                </strong>\n                Followers\n              </Typography>\n            </Box>\n          </Box>\n          <Box borderBottom=\"1px solid #ccc\">\n            <Typography\n              display=\"inline-block\"\n              variant=\"caption\"\n              fontSize=\"16px\"\n              marginX=\"1rem\"\n              padding=\"6px 0\"\n              fontWeight=\"500\"\n              borderBottom={`4px solid ${theme.palette.primary.main}`}\n            >\n              Posts\n            </Typography>\n          </Box>\n          {profile.posts &&\n            profile.posts.map((post) => (\n              <Post key={post._id} post={post} profile={true} />\n            ))}\n        </Box>\n      )}\n      {openModal && (\n        <Modal open={openModal} handleClose={handleModalClose} saveText={\"Save edits\"}>\n          <Box>\n            <Grid container>\n              <Grid item xs={12}>\n              <Typography>Edit Profile Image</Typography>\n                <img src={profile.profileImageUrl} alt=\"profileimage\" style={{maxHeight:\"100%\",maxWidth:\"100%\"}} /><br/>\n                <Button variant=\"text\"><Edit/> Edit</Button>\n              </Grid>\n              <Grid item xs={12}>\n              <Typography>Edit Cover Image</Typography>\n                <img src={profile.backgroundImageUrl} alt=\"coverimage\"  style={{maxHeight:\"100%\",maxWidth:\"100%\"}}/><br/>\n                <Button variant=\"text\"><Edit/> Edit</Button>\n              </Grid>\n              <Grid item xs={12} flexGrow=\"1\">\n                <Box padding=\".5rem 0\">\n                  <Typography>Edit Bio</Typography>\n                \n                <TextareaAutosize label=\"Edit Bio\"\n                style={{ width: \"100%\",height:'20vh'}}\n                 color=\"primary\" value={profile.bio} />\n                 \n\n                </Box>\n              </Grid>\n              {/* {(imageUrl === \"\")?\n                (<Grid item xs={12}>\n                  {!showAddImage && <Button onClick={() => setShowImage(true)}>+ Add Image</Button>}\n                  {showAddImage && <> <Input type=\"file\" onChange={(e) => setImage(e.target.files[0])} /><Button onClick={uploadImage}>Upload</Button> </>}\n                </Grid>)\n                :\n                (<Grid item xs={12}> <img style={{maxHeight:\"100%\",maxWidth:\"100%\"}} src={imageUrl} alt=\"ss\" /> </Grid>)\n              } */}\n              \n\n\n\n            </Grid>\n          </Box>\n        </Modal>\n      )}\n    </Box>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\n\nexport default function PrivateRoute({ path, ...props }) {\n  const { isLoggedIn } = useSelector((state) => state.auth);\n  if (isLoggedIn) {\n    return <Route path={path} {...props} />;\n  } else {\n    return <Redirect to=\"/login\" />;\n  }\n}\n","import { Button, Grid, Input } from \"@mui/material\";\nimport { Box, useTheme } from \"@mui/system\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { addPost } from \"../api\";\nimport { getPosts } from \"../redux/postSlice\";\n\nexport default function AddPost() {\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const [postText, setPostText] = useState(\"\");\n  const handleAddPost = async () => {\n    const data = await addPost({ text: postText });\n    if (data) {\n      dispatch(getPosts());\n      setPostText(\"\");\n    }\n  };\n  return (\n    <Box padding=\"1rem 1rem 0 1rem\" borderBottom=\"1px solid #ccc\">\n      <Grid container>\n        <Grid item sx={{ paddingRight: \"1rem\" }}>\n          <img src=\"/logo.png\" alt=\"lgogo\" width=\"50px\" />\n        </Grid>\n        <Grid item flexGrow=\"1\">\n          <Box padding=\".5rem 0\">\n            <Input\n              value={postText}\n              onChange={(e) => setPostText(e.target.value)}\n              multiline\n              rows=\"2\"\n              disableUnderline\n              type=\"text\"\n              placeholder=\"What's happening?\"\n              sx={{ width: \"100%\" }}\n            />\n          </Box>\n          <Box\n            textAlign=\"right\"\n            paddingBottom=\".5rem\"\n            paddingTop=\".5rem\"\n            borderTop=\"1px solid #ccc\"\n          >\n            <Button\n              onClick={handleAddPost}\n              disabled={postText.trimStart().length === 0}\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{\n                borderRadius: theme.shape.borderRadius,\n                fontSize: \"12px\",\n              }}\n            >\n              Post\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n","import { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nfunction useLazyFetch(fetchAction) {\r\n  const dispatch = useDispatch();\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const loadMoreRef = useRef(null);\r\n\r\n  const handleObserver = useCallback(async(entries) => {\r\n    const [target] = entries;\r\n    console.log(target.isIntersecting);\r\n    if (target.isIntersecting) {\r\n        console.log(\"INTERSECTING.....\");\r\n        setPage((prev) => prev + 1);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const option = {\r\n      root: null,\r\n      rootMargin: \"0px\",\r\n      threshold: 1.0,\r\n    };\r\n\r\n    const observer = new IntersectionObserver(handleObserver, option);\r\n\r\n    if (loadMoreRef.current) observer.observe(loadMoreRef.current);\r\n  }, [handleObserver]);\r\n\r\n  const fetchApi = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      await new Promise((r) => setTimeout(r, 2000));\r\n      dispatch(fetchAction(page))\r\n\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }, [page,fetchAction,dispatch]);\r\n\r\n  useEffect(() => {\r\n    fetchApi();\r\n  }, [fetchApi]);\r\n\r\n  return { loading, loadMoreRef };\r\n}\r\n\r\nexport default useLazyFetch;","import { CircularProgress, Grid, IconButton, Typography } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useEffect,useMemo } from \"react\";\r\nimport AssistantIcon from \"@mui/icons-material/Assistant\";\r\nimport Post from \"../components/Post\";\r\nimport {  useSelector } from \"react-redux\";\r\nimport { getPosts } from \"../redux/postSlice\";\r\nimport AddPost from \"../components/AddPost\";\r\nimport useLazyFetch from \"../hooks/useLazyFetch\";\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\n\r\nexport default function Home() {\r\n  const { status, posts } = useSelector((state) => state.post);\r\n  const {loading,loadMoreRef} = useLazyFetch(getPosts)\r\n\r\n\r\nconst renderedPostList = useMemo(() => (\r\n  posts.map((post) => {\r\n    return( <Post key={post._id.toString()} post={post} />)\r\n  })\r\n), [posts]) \r\n\r\n  \r\n  return (\r\n    <Box>\r\n      <Box borderBottom=\"1px solid #ccc\" padding=\"8px 20px\">\r\n        <Grid container justifyContent=\"space-between\" alignItems=\"center\">\r\n          <Grid item>\r\n            <Typography variant=\"h6\">Home</Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <IconButton>\r\n              <AssistantIcon />\r\n            </IconButton>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n      <Box height=\"92vh\" sx={{ overflowY: \"scroll\" }}>\r\n        <AddPost />\r\n        <Box textAlign=\"center\" marginTop=\"1rem\">\r\n          {status === \"loading\" && (\r\n            <CircularProgress size={20} color=\"primary\" />\r\n          )}\r\n        </Box>\r\n        {renderedPostList}\r\n        <div style={{height:\"50px\",width:\"100px\",backgroundColor:\"red\"}} ref={loadMoreRef}>{loading && <p>loading...</p>}</div>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import { Grid, IconButton, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React from \"react\";\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\n\nexport default function Comment({ comment }) {\n  return (\n    <Box\n      padding=\"1rem\"\n      sx={{\n        \"&:hover\": {\n          backgroundColor: \"#eee\",\n        },\n      }}\n    >\n      <Grid container flexWrap=\"nowrap\">\n        <Grid item sx={{ paddingRight: \"1rem\" }}>\n          <img src=\"/logo.png\" alt=\"lgoog\" width=\"50px\" />\n        </Grid>\n        <Grid item flexGrow=\"1\">\n          <Box>\n            <Grid\n              container\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              flexWrap=\"nowrap\"\n            >\n              <Grid item>\n                <Box display=\"flex\">\n                  <Typography\n                    sx={{ fontSize: \"16px\", fontWeight: 500, mr: \"6px\" }}\n                  >\n                    {comment.author.name}\n                  </Typography>\n                  <Typography\n                    sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\n                  >\n                    @{comment.author.handle}\n                  </Typography>\n                  <Typography\n                    sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\n                  >\n                    .\n                  </Typography>\n                  <Typography\n                    sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\n                  >\n                    {formatDistanceToNow(new Date(comment.createdAt))}{\" \"}\n                  </Typography>\n                </Box>\n                <Box>\n                  <Typography sx={{ fontSize: \"15px\", color: \"#555\" }}>\n                    {comment.text}\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid item>\n                <IconButton>\n                  <MoreHorizIcon />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </Box>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n","import {\n  Button,\n  CircularProgress,\n  Grid,\n  IconButton,\n  Input,\n  Menu,\n  MenuItem,\n  Typography,\n  useTheme,\n} from \"@mui/material\";\nimport format from \"date-fns/format\";\n\nimport { Box } from \"@mui/system\";\nimport React, { useEffect, useState } from \"react\";\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\nimport SyncIcon from \"@mui/icons-material/Sync\";\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\n\nimport IosShareIcon from \"@mui/icons-material/IosShare\";\nimport { useHistory, useParams } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getComments, getPostDetails } from \"../redux/postSlice\";\nimport { addComment, deletePost, likeOrDislikePost } from \"../api\";\nimport Comment from \"../components/Comment\";\n\nexport default function PostDetails() {\n  const [commentText, setCommentText] = useState(\"\");\n  const theme = useTheme();\n  const { id } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const { status, comments, commentStatus, postDetails } = useSelector(\n    (state) => state.post\n  );\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const { _id } = JSON.parse(localStorage.getItem(\"login\"));\n  const handleDeletePost = async () => {\n    const response = await deletePost({ id: postDetails._id });\n    if (response) {\n      history.push(\"/\");\n    }\n  };\n\n  const handleLike = async (e) => {\n    e.preventDefault();\n    const response = await likeOrDislikePost({ id: postDetails._id });\n    if (response) {\n      dispatch(getPostDetails(id));\n      dispatch(getComments(id));\n    }\n  };\n\n  useEffect(() => {\n    dispatch(getPostDetails(id));\n    dispatch(getComments(id));\n  }, [dispatch, id]);\n\n  const handleAddComment = async () => {\n    const response = await addComment({ id, text: commentText });\n    if (response) {\n      dispatch(getComments(id));\n      setCommentText(\"\");\n    }\n  };\n\n  return (\n    <Box>\n      <Box borderBottom=\"1px solid #ccc\" padding=\"8px 20px\">\n        <Grid container alignItems=\"center\">\n          <Grid item sx={{ mr: \"10px\" }}>\n            <IconButton onClick={() => history.push(\"/\")}>\n              <ArrowBackIcon />\n            </IconButton>\n          </Grid>\n          <Grid item>\n            <Typography variant=\"h6\">Post</Typography>\n          </Grid>\n        </Grid>\n      </Box>\n      <Box height=\"92vh\" sx={{ overflowY: \"scroll\" }}>\n        <Box textAlign=\"center\" marginTop=\"1rem\">\n          {status === \"loading\" && (\n            <CircularProgress size={20} color=\"primary\" />\n          )}\n        </Box>\n        {status === \"success\" && (\n          <Box padding=\"0 20px\">\n            <Box>\n              <Grid container alignItems=\"center\">\n\n                {(postDetails?.imageUrl !== \"\") &&\n                  <Grid item flexGrow=\"1\">\n                    <img src={postDetails?.imageUrl} alt=\"r\" style={{ maxHeight: \"100%\", maxWidth: \"100%\" }} />\n                  </Grid>\n                }\n\n                <Grid item flexGrow=\"1\">\n                  <Grid container justifyContent=\"flex-start\">\n                    <Grid item>\n                      <img src=\"/logo.png\" alt=\"lgogo\" width=\"60px\" />\n                    </Grid>\n                    <Grid item>\n                      <Typography sx={{ fontSize: \"16px\", fontWeight: \"500\" }}>\n                        {postDetails?.author && postDetails?.author.name}\n                      </Typography>\n                      <Typography sx={{ fontSize: \"15px\", color: \"#555\" }}>\n                        @{postDetails?.author && postDetails?.author.handle}\n                      </Typography>\n                    </Grid>\n                    <Grid item>\n                      {status === \"success\" &&\n                        postDetails?.author &&\n                        _id === postDetails?.author._id && (\n                          <IconButton\n                            aria-expanded={open ? \"true\" : undefined}\n                            onClick={(e) => {\n                              e.preventDefault();\n                              handleClick(e);\n                            }}\n                          >\n                            <MoreHorizIcon />\n                          </IconButton>\n                        )}\n\n                      <Menu\n                        id=\"basic-menu\"\n                        anchorEl={anchorEl}\n                        open={open}\n                        onClose={handleClose}\n                        MenuListProps={{\n                          \"aria-labelledby\": \"basic-button\",\n                        }}\n                      >\n                        <MenuItem\n                          onClick={(e) => {\n                            e.preventDefault();\n                            handleDeletePost();\n                          }}\n                        >\n                          Delete Post\n                        </MenuItem>\n                      </Menu>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Box>\n            <Box>\n              <Typography sx={{ fontSize: \"20px\" }}>\n                {postDetails?.text}\n              </Typography>\n            </Box>\n            <Box display=\"flex\" padding=\"1rem 0\" borderBottom=\"1px solid #ccc\">\n              <Typography sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}>\n                {postDetails &&\n                  postDetails?.createdAt &&\n                  format(new Date(postDetails?.createdAt), \"HH:mm a\")}\n              </Typography>\n              <Typography sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}>\n                .\n              </Typography>\n              <Typography sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}>\n                {postDetails &&\n                  postDetails?.createdAt &&\n                  format(new Date(postDetails?.createdAt), \"MMM dd yyyy\")}\n              </Typography>\n            </Box>\n            <Box display=\"flex\" padding=\"1rem 0\" borderBottom=\"1px solid #ccc\">\n              <Typography sx={{ fontSize: \"14px\", mr: \"6px\", color: \"#555\" }}>\n                <strong>{postDetails?.likes && postDetails?.likes.length}</strong>{\" \"}\n                Likes\n              </Typography>\n            </Box>\n            <Box\n              display=\"flex\"\n              justifyContent=\"space-around\"\n              padding=\".5rem 0\"\n              borderBottom=\"1px solid #ccc\"\n            >\n              <IconButton size=\"small\">\n                <ChatBubbleOutlineIcon fontSize=\"small\" />\n              </IconButton>\n              <IconButton size=\"small\">\n                <SyncIcon fontSize=\"small\" />\n              </IconButton>\n              <IconButton onClick={handleLike} size=\"small\">\n                {postDetails?.isLiked ? (\n                  <FavoriteIcon fontSize=\"small\" />\n                ) : (\n                  <FavoriteBorderIcon fontSize=\"small\" />\n                )}\n              </IconButton>\n              <IconButton size=\"small\">\n                <IosShareIcon fontSize=\"small\" />\n              </IconButton>\n            </Box>\n            <Box>\n              <Grid container>\n                <Grid item>\n                  <img src=\"/logo.png\" alt=\"logo\" width=\"60px\" />\n                </Grid>\n                <Grid item flexGrow=\"1\">\n                  <Box padding=\".5rem 0\">\n                    <Input\n                      onChange={(e) => setCommentText(e.target.value)}\n                      value={commentText}\n                      multiline\n                      rows=\"2\"\n                      disableUnderline\n                      type=\"text\"\n                      placeholder=\"Post your comment\"\n                      sx={{ width: \"100%\" }}\n                    />\n                  </Box>\n                  <Box textAlign=\"right\" paddingBottom=\".5rem\">\n                    <Button\n                      disabled={commentText.length === 0}\n                      onClick={handleAddComment}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      size=\"small\"\n                      sx={{\n                        borderRadius: theme.shape.borderRadius,\n                        fontSize: \"12px\",\n                      }}\n                    >\n                      Comment\n                    </Button>\n                  </Box>\n                </Grid>\n              </Grid>\n              <Box textAlign=\"center\" marginTop=\"1rem\">\n                {commentStatus === \"loading\" && (\n                  <CircularProgress size={20} color=\"primary\" />\n                )}\n              </Box>\n              {commentStatus === \"success\" &&\n                comments.map((comment) => (\n                  <Comment key={comment._id} comment={comment} />\n                ))}\n            </Box>\n          </Box>\n        )}\n      </Box>\n    </Box>\n  );\n}\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst initialState = {\n    status: \"idle\",\n    messages: [],\n    messageDetails: {}\n};\n\n\nexport const getMyMessages = createAsyncThunk(\"message/getAllMessages\", async () => {\n    const { data } = await axios.get(\"/api/message/all\");\n    console.log(data,\"FF\");\n    return data;\n});\n\n\nexport const getMessagesOf = createAsyncThunk(\"message/getMessagesOf\", async (relativeUserId) => {\n    const { data } = await axios.get(\"/api/message/ofuser/\" + relativeUserId);\n    return data;\n});\n\n\nexport const messageSlice = createSlice({\n    name: 'message',\n    initialState,\n    reducers: {},\n    extraReducers: {\n        [getMyMessages.pending]: (state, action) => {\n            state.status = \"loading\";\n        },\n        [getMyMessages.fulfilled]: (state, action) => {\n            state.status = \"success\";\n            state.messages = action.payload.response.response;\n        },\n        [getMyMessages.rejected]: (state, action) => {\n            state.status = \"failed\";\n        },\n        [getMessagesOf.pending]: (state, action) => {\n            state.status = \"loading\";\n        },\n        [getMessagesOf.fulfilled]: (state, action) => {\n            state.status = \"success\";\n            state.messageDetails = action.payload.response.messages;\n        },\n        [getMessagesOf.rejected]: (state, action) => {\n            state.status = \"failed\";\n        }\n\n    }\n})\n\nexport default messageSlice.reducer;\n","import React from 'react'\nimport {\n    Grid,\n    IconButton,\n    Input,\n    Typography,\n    Menu,\n    MenuItem,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\nimport { Link } from \"react-router-dom\";\n\n\n\n\n\nexport default function Message({ message_id, message }) {\n    return (\n        <>\n        <Link\n        to={`/messages/${message.userdetails.id}`}\n        style={{ textDecoration: \"none\", color: \"inherit\" }}\n        >\n             <Box\n          padding=\"1rem\"\n          sx={{\n            \"&:hover\": {\n              backgroundColor: \"#eee\",\n            },\n          }}\n        >\n          <Grid container flexWrap=\"nowrap\">\n            <Grid item sx={{ paddingRight: \"1rem\" }}>\n              <Link to={`/profile/${message.userdetails.id}`}>\n                <img src=\"/logo.png\" alt=\"lgoog\" width=\"50px\" />\n              </Link>\n            </Grid>\n            <Grid item flexGrow=\"1\">\n              <Box>\n                <Grid\n                  container\n                  justifyContent=\"space-between\"\n                  alignItems=\"center\"\n                  flexWrap=\"nowrap\"\n                >\n                  <Grid item>\n                    <Box display=\"flex\">\n                      <Typography\n                        sx={{ fontSize: \"16px\", fontWeight: 500, mr: \"6px\" }}\n                      >\n                        {message.userdetails.name}\n                      </Typography>\n                      <Typography\n                        sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\n                      >\n                        @{message.userdetails.handle}\n                      </Typography>\n                      <Typography\n                        sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\n                      >\n                        .\n                      </Typography>\n                      <Typography\n                        sx={{ fontSize: \"15px\", mr: \"6px\", color: \"#555\" }}\n                      >\n                        {formatDistanceToNow(new Date(message.last_senton))}\n                      </Typography>\n                    </Box>\n                    <Box>\n                      <Typography sx={{ fontSize: \"15px\", color: \"#555\" }}>\n                        {message.last_text}\n                      </Typography>\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Box>\n            </Grid>\n          </Grid>\n        </Box>\n        </Link>\n            \n        </>\n    )\n}","import { CircularProgress, Grid, IconButton, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useEffect } from \"react\";\nimport AssistantIcon from \"@mui/icons-material/Assistant\";\nimport Post from \"../components/Post\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getMyMessages } from \"../redux/messageSlice\";\nimport AddPost from \"../components/AddPost\";\nimport Message from \"../components/Message\";\nimport { Link } from \"react-router-dom\";\n\n\nexport default function Messages() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getMyMessages());\n  }, [dispatch]);\n  \n  const { status, messages } = useSelector((state) => state.message);\n  \n\n  return (\n    <Box>\n      <Box borderBottom=\"1px solid #ccc\" padding=\"8px 20px\">\n        <Grid container justifyContent=\"space-between\" alignItems=\"center\">\n          <Grid item>\n            <Typography variant=\"h6\">Messages</Typography>\n          </Grid>\n        </Grid>\n      </Box>\n      <Box height=\"92vh\" sx={{ overflowY: \"scroll\" }}>\n        {/* <AddPost /> */}\n        <Box textAlign=\"center\" marginTop=\"1rem\">\n          {status === \"loading\" && (\n            <CircularProgress size={20} color=\"primary\" />\n          )}\n        </Box>\n        {status === \"success\" &&\n          messages.map((message) => <Message key={message.message_id} message={message}/>)}\n      </Box>\n    </Box>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getMessagesOf } from '../redux/messageSlice'\r\nimport ChatBubbleOutlineIcon from \"@mui/icons-material/ChatBubbleOutline\";\r\nimport PersonOutline from \"@mui/icons-material/PersonOutline\";\r\nimport { CircularProgress, Grid, IconButton, Typography, Input } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport TagFacesIcon from '@mui/icons-material/TagFaces';\r\nimport { sendMessage } from \"../api\";\r\nimport Pusher from 'pusher-js';\r\n\r\n\r\n\r\nconst pusher = new Pusher('7e4c08f6b6f630769b3c', {\r\n    cluster: \"ap2\",\r\n    encrypted: true\r\n});\r\n\r\n\r\n\r\nfunction getChatUsername(currUser, relativeUserinfo) {\r\n    if (currUser._id !== relativeUserinfo._id) return 'you'\r\n    return relativeUserinfo.name\r\n}\r\n\r\n\r\nexport default function Conversation() {\r\n    const { id } = useParams();\r\n    const dispatch = useDispatch();\r\n    const { user } = useSelector((state) => state.auth);\r\n\r\n    useEffect(() => {\r\n        const channel = pusher.subscribe(user._id.toString());\r\n        channel.bind('message', data => {\r\n            console.log(data);\r\n            dispatch(getMessagesOf(id));\r\n\r\n        });\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        dispatch(getMessagesOf(id));\r\n    }, [dispatch, id]);\r\n\r\n    const { status, messages, messageDetails } = useSelector((state) => state.message)\r\n    const [message_input, setMessageInput] = useState('')\r\n    const handleMessageSubmit = async () => {\r\n        const data = await sendMessage({ \"relativeUserId\": relativeUserinfo.id, \"messageText\": message_input });\r\n        if (data) {\r\n            dispatch(getMessagesOf(id));\r\n            setMessageInput('')\r\n        }\r\n\r\n    }\r\n\r\n    const relativeUserinfo = messages ? messages.find(message => message.userdetails.id === id).userdetails : null;\r\n\r\n\r\n    return (\r\n        <>\r\n            <Box>\r\n                <Box borderBottom=\"1px solid #ccc\" sx={{ height: '10vh'}}>\r\n                    <Grid container justifyContent=\"space-between\" alignItems=\"center\">\r\n                        <Grid item>\r\n                            <span>\r\n                                <PersonOutline fontSize=\"large\" color=\"action\" />\r\n                                <Typography variant=\"h6\">{relativeUserinfo.name}</Typography>\r\n                            </span>\r\n\r\n\r\n                        </Grid>\r\n                    </Grid>\r\n                </Box>\r\n                <Box sx={{ overflowY: \"scroll\", height: '80vh' }}>\r\n                    <List sx={{ width: '100%' }}>\r\n                        {Array.isArray(messageDetails) && messageDetails.map((message) =>\r\n                            <>\r\n                                <ListItem key={message._id}>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar>\r\n                                            <PersonOutline />\r\n                                        </Avatar>\r\n                                    </ListItemAvatar>\r\n                                    {(user._id !== message.relativeUserId._id)?\r\n                                    <ListItemText primary=\"you\" secondary={message.messageText} />:\r\n                                    <ListItemText primary={<><Typography style={{color:\"#0073b1\"}}><strong>{message.relativeUserId.name}</strong></Typography></>} secondary={message.messageText} />\r\n                                    }\r\n                                    \r\n                                    <span style={{ color: \"grey\", fontSize: '10px' }}>{formatDistanceToNow(new Date(message.createdAt))} ago</span>\r\n                                </ListItem>\r\n                            </>)}\r\n                    </List>\r\n                </Box>\r\n                <Box sx={{ position: 'relative', bottom: '0', width: '100%', height: '10vh' }}>\r\n                    <Input\r\n                        style={{ backgroundColor: '#EEEEEE',position:'absolute',top:'50%',transform:'translateY(-50%)',padding:'2px'}}\r\n                        value={message_input}\r\n                        onChange={(e) => setMessageInput(e.target.value)}\r\n                        type=\"text\"\r\n                        inputProps={{\r\n                            style: { padding: \"10px\" },\r\n                        }}\r\n                        disableUnderline\r\n                        fullWidth\r\n                        placeholder=\"Type message....\"\r\n                        startAdornment={\r\n                            <TagFacesIcon\r\n                                sx={{\r\n                                    paddingLeft: \"20px\",\r\n                                    color: \"#777\",\r\n                                }}\r\n                            />\r\n                        }\r\n                        endAdornment={\r\n                            <IconButton sx={{ paddingRight: \"20px\", }} onClick={handleMessageSubmit}>\r\n                                <SendIcon\r\n                                    sx={{ color: \"#777\" }}\r\n                                />\r\n\r\n                            </IconButton>\r\n\r\n                        }\r\n                    />\r\n\r\n                </Box>\r\n\r\n\r\n            </Box>\r\n        </>\r\n    )\r\n}","import Login from \"./pages/Login\";\n\nimport Layout from \"./components/Layout\";\nimport Profile from \"./pages/Profile\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport { Route, Switch } from \"react-router\";\nimport Home from \"./pages/Home\";\nimport PostDetails from \"./pages/PostDetails\";\nimport Messages from \"./pages/Messages\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { setAuth } from \"./redux/authSlice\";\nimport Conversation from \"./pages/Conversation\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const { isLoggedIn } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    if (\"login\" in localStorage) {\n      const login = JSON.parse(localStorage.getItem(\"login\"));\n      axios.defaults.headers.common[\"authorization\"] = `Bearer ${login.token}`;\n    }\n  }, [isLoggedIn]);\n\n  useEffect(() => {\n    const { isLoggedIn } = JSON.parse(localStorage.getItem(\"login\")) || {};\n    if (isLoggedIn) {\n      dispatch(setAuth({ isLoggedIn }));\n    }\n  }, [dispatch, isLoggedIn]);\n  return (\n    <Switch>\n      <PrivateRoute exact path=\"/profile/:id\">\n        <Layout>\n          <Profile />\n        </Layout>\n      </PrivateRoute>\n      <PrivateRoute exact path=\"/posts/:id\">\n        <Layout>\n          <PostDetails />\n        </Layout>\n      </PrivateRoute>\n      <PrivateRoute exact path=\"/\">\n        <Layout>\n          <Home />\n        </Layout>\n      </PrivateRoute>\n      <PrivateRoute exact path=\"/messages\">\n        <Layout>\n          <Messages />\n        </Layout>\n      </PrivateRoute>\n      <PrivateRoute exact path=\"/messages/:id\">\n        <Layout>\n          <Conversation />\n        </Layout>\n      </PrivateRoute>\n      <Route path=\"/login\">\n        <Login />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport authSlice from \"./authSlice\";\nimport followSlice from \"./followSlice\";\nimport postSlice from \"./postSlice\";\nimport messageSlice from \"./messageSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    auth: authSlice,\n    post: postSlice,\n    follow: followSlice,\n    message:messageSlice\n  },\n});\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport axios from \"axios\";\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/store\";\r\nconst theme = createTheme({});\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <ThemeProvider theme={theme}>\r\n          <App />\r\n        </ThemeProvider>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}